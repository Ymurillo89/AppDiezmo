<div class="container">
  <div class=" row mt-2">
    <div class="col-12">
      <div class="card">
          
        <h2 class="border rounded text-white text-center p-1" style="background-color: #e3b04b; color: white">Filtros</h2>
  
        <div class="card-body">        
          
          <div class="row" >
            <!--Autocomplete-->
            <div class="col-sm-12 col-md-6 col-lg-6 col-xl-6 mt-2">          
  
              <div class="ng-autocomplete " style="width: 100%;">           
                <div class="text-center">
                  <label>Nombre</label>
                </div>  
              <ng-autocomplete 
                [data]="dataBrother"
                [searchKeyword]="keyword"
                placeholder="Filtro de busqueda por hermano"
                (selected)='selectFilterBrother($event)'
                (inputCleared)="resetFilter()"
                [itemTemplate]="itemTemplate"
                [notFoundTemplate]="notFoundTemplate">      
                                      
              </ng-autocomplete>
              
              <ng-template #itemTemplate let-dataBrother>
              <a [innerHTML]="dataBrother.fullName"></a>
              </ng-template>
              
              <ng-template #notFoundTemplate let-notFound>
              <div [innerHTML]="notFound"></div>
              </ng-template>
              </div> 
            </div>          
  
            <div class="col-sm-12 col-md-6 col-lg-6 col-xl-6 mt-2">
              <div class="text-center">
                  <label>Seleccione un periodo</label>
                </div>
                <select class="form-control" name="" id="" (change)="getReport($event.target)">
                  <option  *ngFor="let item of dataPeriod" value="{{ item.period }}">{{ item.description }}</option>
                </select>
            </div>     
         
          </div>
  
        </div>
      </div>
    </div>
  </div>
</div>



<div class="container mt-2">   
  <div class="card">
    <div class="card-body">
      <div class="alert alert-warning" role="alert" *ngIf="dataFilterReport.length==0">
        No se encuentran registros en el periodo seleccionado
      </div>
        <div class="table-responsive" *ngIf="dataFilterReport.length>0">
          <button class="btn btn-success m-3" style="border-radius: 50%" (click)="generateExcel()"><i class="fas fa-file-excel"></i></button>
          <table class="table table-striped">
            <thead class=" text-center"   style="background-color: #e3b04b; color: white">
              <tr>
                <th>Hermano</th>
                <th>Diezmo</th>
                <th>Fecha</th>                          
              </tr>
            </thead>
            <tbody class="text-center bg-light">
              <tr *ngFor="let report of dataFilterReport | paginate: { itemsPerPage: 10, currentPage: f, id: 'f1' }; let j= index">
                <td>
                  {{report.fullName}}
                </td>
                <td>
                  {{report.tithe |currency}}
                </td>
                <td>
                  {{report.dateTithe}}
                </td>         
              </tr>      
            
            </tbody>        
          </table>
          <div class="text-right">
            <pagination-controls previousLabel="" nextLabel="" (pageChange)="f = $event" id="f1">
            </pagination-controls>
          </div>       
        </div>
    </div>
  </div>
  
</div>